{"ast":null,"code":"import { maps } from \"./maps\";\nimport { bubbleSort, mergeSort } from \"./mergesort\";\nimport { mergeSort_variable } from \"./mergesort\";\nexport function djiskstra(map, start, finish) {\n  console.log(\"djikstra is running\");\n\n  if (start == finish) {\n    return [{\n      \"route\": \"Same City\",\n      \"distance\": 0\n    }];\n  } else {\n    var findingRoute = [];\n    var foundRoute = [];\n\n    for (let node of map) {\n      if (node.startCity === start) {\n        if (node.finishCity === finish) {\n          var route = node.startCity + \"-\" + node.finishCity;\n          foundRoute.push({\n            \"route\": route,\n            \"distance\": node.distance\n          });\n        } else {\n          findingRoute.push({\n            \"route\": node.startCity + \"-\" + node.finishCity,\n            \"distance\": node.distance\n          });\n        }\n      }\n    }\n\n    var index = 0;\n\n    while (findingRoute.length > 0) {\n      // console.log(index)\n      var arrNewNode = [];\n      index++; // console.log(\"iteration \"+index)\n      // console.log(findingRoute)\n\n      for (let node of findingRoute) {\n        var lastNode = \"\";\n\n        for (let i = node.route.length; i > 0; i--) {\n          if (node.route[i] === \"-\") {\n            break;\n          }\n\n          if (node.route[i] !== undefined) {\n            lastNode += node.route[i];\n          }\n        }\n\n        lastNode = lastNode.split(\"\").reverse().join(\"\");\n\n        for (let nodeInMap of map) {\n          if (nodeInMap.startCity === lastNode) {\n            var explodedNode = node.route.split(\"-\");\n\n            if (!explodedNode.includes(nodeInMap.finishCity)) {\n              var newNode = node.route + \"-\" + nodeInMap.finishCity;\n              var newDistance = nodeInMap.distance + node.distance;\n\n              if (nodeInMap.finishCity === finish) {\n                foundRoute.push({\n                  \"route\": newNode,\n                  \"distance\": newDistance\n                });\n\n                if (foundRoute.length > 0) {\n                  var distanceArrayFindingRoute = [];\n\n                  for (let key of findingRoute) {\n                    distanceArrayFindingRoute.push(key.distance);\n                  }\n\n                  var distanceArrayFoundgRoute = [];\n\n                  for (let key of foundRoute) {\n                    distanceArrayFoundgRoute.push(key.distance);\n                  }\n\n                  distanceArrayFindingRoute = distanceArrayFindingRoute.sort();\n                  distanceArrayFoundgRoute = distanceArrayFoundgRoute.sort();\n                  foundRoute = mergeSort(foundRoute);\n                  console.log(distanceArrayFindingRoute[0] + \"---\" + distanceArrayFoundgRoute[0]);\n\n                  if (distanceArrayFoundgRoute[0] <= distanceArrayFindingRoute[0]) {\n                    return foundRoute;\n                  }\n                }\n              } else {\n                arrNewNode.push({\n                  \"route\": newNode,\n                  \"distance\": newDistance\n                });\n              }\n            }\n          }\n        }\n      }\n\n      findingRoute = arrNewNode; // console.log(index,findingRoute.length)\n    }\n  }\n}\nexport function djikstra2(map, start, finish) {\n  // return map;\n  let v = {\n    \"y\": \"\",\n    \"list_variable\": []\n  };\n  let result = [];\n  let l = [];\n\n  for (let variable of map) {\n    if (variable.city_name == start) {\n      v.y = {\n        \"variable_name\": variable.city_name,\n        \"value\": 0,\n        \"route\": [variable.city_name],\n        \"neighbor_cities\": variable.neighbor_cities\n      };\n      l.push(variable.city_name);\n    } else {\n      v.list_variable.push({\n        \"variable_name\": variable.city_name,\n        \"value\": 91919191919,\n        \"route\": [],\n        \"neighbor_cities\": variable.neighbor_cities\n      });\n    }\n  }\n\n  while (!l.includes(finish)) {\n    // for (let index = 0; index < 3; index++) {\n    for (let variable of v.list_variable) {\n      if (l.includes(variable.variable_name)) {} else {\n        let w = 91919191919;\n\n        for (let city of v.y.neighbor_cities) {\n          if (city.city_name == variable.variable_name) {\n            w = city.distance;\n            break;\n          }\n        }\n\n        variable.value = Math.min(variable.value, v.y.value + w);\n\n        if (variable.value != 91919191919 && w != 91919191919) {\n          variable.route = [];\n\n          for (let node of v.y.route) {\n            variable.route.push(node);\n          }\n\n          variable.route.push(variable.variable_name);\n        }\n\n        if (variable.route[variable.route.length - 1] == finish) {\n          if (!result.includes({\n            \"route\": variable.route,\n            \"distance\": variable.value\n          })) {\n            result.push({\n              \"route\": variable.route,\n              \"distance\": variable.value\n            });\n          }\n        }\n      }\n    }\n\n    v.list_variable = bubbleSort(v.list_variable);\n    v.y = v.list_variable[0];\n    l.push(v.list_variable[0].variable_name);\n    v.list_variable.shift();\n  }\n\n  return result;\n}","map":{"version":3,"names":["maps","bubbleSort","mergeSort","mergeSort_variable","djiskstra","map","start","finish","console","log","findingRoute","foundRoute","node","startCity","finishCity","route","push","distance","index","length","arrNewNode","lastNode","i","undefined","split","reverse","join","nodeInMap","explodedNode","includes","newNode","newDistance","distanceArrayFindingRoute","key","distanceArrayFoundgRoute","sort","djikstra2","v","result","l","variable","city_name","y","neighbor_cities","list_variable","variable_name","w","city","value","Math","min","shift"],"sources":["/Users/hilmi/Documents/React JS/djikstra/src/controller/djikstra.js"],"sourcesContent":["import { maps } from \"./maps\"\nimport {bubbleSort, mergeSort} from \"./mergesort\"\nimport {mergeSort_variable} from \"./mergesort\"\n\n\nexport function djiskstra(map,start,finish){\n  console.log(\"djikstra is running\")\n  if(start == finish){\n    return [{\"route\":\"Same City\",\"distance\":0}]\n  }\n  else{\n    \n    var findingRoute = []\n    var foundRoute = []\n\n    for (let node of map) {\n      if(node.startCity === start){\n        if(node.finishCity === finish ){\n          var route = node.startCity+\"-\"+node.finishCity\n          foundRoute.push({\n            \"route\" : route,\n            \"distance\" : node.distance\n          })\n        }\n        else{\n          findingRoute.push({\n            \"route\" : node.startCity+\"-\"+node.finishCity,\n            \"distance\" : node.distance\n          })\n        }\n      }\n    }\n\n    var index = 0\n    while ( findingRoute.length > 0 ) {\n      // console.log(index)\n      \n      var arrNewNode = []\n      index ++\n      // console.log(\"iteration \"+index)\n      // console.log(findingRoute)\n      for (let node of findingRoute) {\n        var lastNode = \"\";\n        for (let i = node.route.length  ; i > 0; i--) {\n          if(node.route[i] === \"-\"){\n            break\n          }\n          if(node.route[i] !== undefined){\n            lastNode += node.route[i]\n          }\n          \n        }\n        lastNode = lastNode.split(\"\").reverse().join(\"\")\n\n        for (let nodeInMap of map) {\n          if(nodeInMap.startCity === lastNode){\n            var explodedNode = node.route.split(\"-\")\n            if( !explodedNode.includes(nodeInMap.finishCity)  ){\n              var newNode = node.route+\"-\"+nodeInMap.finishCity\n              var newDistance = nodeInMap.distance+node.distance\n\n              if(nodeInMap.finishCity === finish){\n                foundRoute.push({\n                  \"route\" : newNode,\n                  \"distance\" : newDistance\n                })\n                if(foundRoute.length > 0){\n                  var distanceArrayFindingRoute = []\n                  for (let key of findingRoute) {\n                    distanceArrayFindingRoute.push(key.distance)\n                  }\n                  var distanceArrayFoundgRoute = []\n                  for (let key of foundRoute) {\n                    distanceArrayFoundgRoute.push(key.distance)\n                  }\n                  distanceArrayFindingRoute = distanceArrayFindingRoute.sort()\n                  distanceArrayFoundgRoute = distanceArrayFoundgRoute.sort()\n                  foundRoute = mergeSort(foundRoute)\n\n                  console.log(distanceArrayFindingRoute[0]+\"---\"+distanceArrayFoundgRoute[0])\n\n                  if(distanceArrayFoundgRoute[0] <= distanceArrayFindingRoute[0]){\n                    \n                    return foundRoute;\n                  }\n                }\n              }\n              else{\n                arrNewNode.push({\n                  \"route\" : newNode,\n                  \"distance\" : newDistance\n                })\n              }\n            }\n          }\n        }\n      }\n      findingRoute = arrNewNode\n      // console.log(index,findingRoute.length)\n    }\n  }\n}\n\n\n\nexport function djikstra2(map,start,finish){\n  // return map;\n  let v = {\n    \"y\" : \"\",\n    \"list_variable\" : []\n  };\n  \n  let result = [];\n  let l = [];\n  for (let variable of map) {\n    if(variable.city_name == start){\n      v.y = {\n        \"variable_name\" : variable.city_name,\n        \"value\" : 0,\n        \"route\" : [variable.city_name],\n        \"neighbor_cities\": variable.neighbor_cities\n      }\n      l.push(\n        variable.city_name\n      )\n    }\n    else{\n      v.list_variable.push(\n        {\n          \"variable_name\" : variable.city_name,\n          \"value\" : 91919191919,\n          \"route\" : [],\n          \"neighbor_cities\": variable.neighbor_cities\n        }\n      )\n    }\n    \n    \n  }\n\n  while(!l.includes(finish)) {\n  // for (let index = 0; index < 3; index++) {\n    for (let variable of v.list_variable) {\n      if(l.includes(variable.variable_name)){\n\n      }\n      else{\n        let w = 91919191919;\n        for(let city of v.y.neighbor_cities){\n          if(city.city_name == variable.variable_name){\n            w = city.distance;\n            break;\n          }\n        }\n        variable.value = Math.min(variable.value,( v.y.value +  w))\n        if(variable.value != 91919191919 && w != 91919191919){\n          variable.route = []\n          for (let node of v.y.route) {\n            variable.route.push(node)\n            \n          }\n          variable.route.push(variable.variable_name)\n        }\n\n        if(variable.route[variable.route.length -1 ]  == finish){\n          if(!result.includes(\n              {\n              \"route\" : variable.route,\n              \"distance\" : variable.value\n              }\n            ))\n            {\n            result.push({\n              \"route\" : variable.route,\n              \"distance\" : variable.value\n            });\n          }\n          \n        }\n      }\n    }\n    v.list_variable = bubbleSort(v.list_variable)\n\n    v.y = v.list_variable[0]\n    l.push(v.list_variable[0].variable_name)\n    v.list_variable.shift()\n    \n  }\n  return result;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}